[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Master’s Project",
    "section": "",
    "text": "MinimumGOT"
  },
  {
    "objectID": "index.html#notebooks",
    "href": "index.html#notebooks",
    "title": "Master’s Project",
    "section": "Notebooks",
    "text": "Notebooks"
  },
  {
    "objectID": "notebooks/01-get-data.html",
    "href": "notebooks/01-get-data.html",
    "title": "FRBSTATS Data",
    "section": "",
    "text": "import requests\nimport logging\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom mw_plot import MWSkyMap\nfrom astropy.coordinates import SkyCoord\nimport astropy.units as u\nimport numpy as np\n\n%matplotlib inline\n\n\ndef request_data(url, **kwargs) -> requests.Response:\n    logging.debug(f\"Awaiting data from {url}\")\n    return requests.get(url, **kwargs)\n\nasync def download_csv(url:str='https://www.herta-experiment.org/frbstats/catalogue.csv', output_file='data.csv') -> str:\n    result = request_data(url)\n    if result.status_code != 200:\n        raise requests.RequestException(result.status_code)\n    with open(output_file, 'w') as f:\n        f.write(result.content.decode(result.encoding))\n        logging.debug(f'Writing data to {output_file}')\n    return output_file\n\n\ndata = pd.read_csv(await download_csv())\n\n\ndata\n\n\n\n\n\n  \n    \n      \n      frb\n      utc\n      mjd\n      telescope\n      ra\n      dec\n      l\n      b\n      frequency\n      dm\n      flux\n      width\n      fluence\n      snr\n      reference\n      redshift\n    \n  \n  \n    \n      0\n      FRB 20010125A\n      2001-01-25 0:29:16\n      51934.02032\n      Parkes\n      19:06:53\n      -40:37:14\n      356.64\n      -20.02\n      -\n      790.3\n      0.54\n      -\n      -\n      -\n      https://www.wis-tns.org/object/20010125a\n      0.7083\n    \n    \n      1\n      FRB 20010305A\n      2001-03-05 12:29:16\n      51973.52032\n      Parkes\n      4:57:20\n      -52:36:25\n      260.07\n      -38.35\n      1374\n      350.0\n      0.42\n      9\n      3.78\n      10.2\n      https://arxiv.org/abs/2004.04601\n      0.341\n    \n    \n      2\n      FRB 20010312A\n      2001-03-12 11:06:48\n      51980.46306\n      Parkes\n      5:26:55\n      -64:56:19\n      274.72\n      -33.30\n      -\n      1187.0\n      0.25\n      -\n      -\n      -\n      https://www.wis-tns.org/object/20010312a\n      1.0897\n    \n    \n      3\n      FRB 20010621A\n      2001-06-21 13:02:11\n      52081.54318\n      Parkes\n      18:52:05\n      -8:29:35\n      25.43\n      -4.00\n      -\n      745.0\n      0.41\n      -\n      -\n      -\n      https://www.wis-tns.org/object/20010621a\n      0.4454\n    \n    \n      4\n      FRB 20010724A\n      2001-07-24 19:50:02\n      52114.82641\n      Parkes\n      1:18:06\n      -75:12:18\n      300.65\n      -41.81\n      -\n      375.0\n      30\n      -\n      -\n      -\n      https://www.wis-tns.org/object/20010724a\n      0.369\n    \n    \n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n    \n    \n      806\n      FRB 20220105A\n      2022-01-05 0:19:19\n      59584.01341\n      ASKAP\n      13:55:51.4\n      +22:29:19.7\n      18.84\n      74.68\n      1632.5\n      583.0\n      -\n      -\n      -\n      10\n      https://www.wis-tns.org/object/20220105a\n      0.5724\n    \n    \n      807\n      FRB 20220414A\n      2022-04-14 17:26:40\n      59683.72685\n      Tianlai\n      13:04:21\n      +48:18:05\n      117.02\n      68.68\n      747.5\n      208.1\n      128.4\n      2.2\n      204\n      15.1\n      https://www.wis-tns.org/object/20220414a\n      0.2169\n    \n    \n      808\n      FRB 20220501C\n      2022-05-01 2:11:09\n      59700.09108\n      ASKAP\n      23:29:50\n      -32:27:00\n      11.26\n      -71.55\n      863.5\n      449.5\n      -\n      -\n      30\n      16.1\n      https://www.wis-tns.org/object/20220501c\n      0.4558\n    \n    \n      809\n      FRB 20220610A\n      2022-06-10 22:26:43\n      59740.93522\n      ASKAP\n      23:23:60\n      -33:31:00\n      8.87\n      -70.13\n      1271.5\n      1458.1\n      -\n      5.6\n      43\n      29.8\n      https://www.wis-tns.org/object/20220610a\n      1.3836\n    \n    \n      810\n      FRB 20220725A\n      2022-07-25 21:54:53\n      59785.91311\n      ASKAP\n      22:26:60\n      +34:52:60\n      92.14\n      -19.21\n      919.5\n      290.4\n      -\n      -\n      -\n      12.7\n      https://www.wis-tns.org/object/20220725a\n      0.2591\n    \n  \n\n811 rows × 16 columns\n\n\n\n\ndata[['ra', 'dec', 'l', 'b', 'frequency', 'dm', 'flux', 'width', 'fluence', 'snr', 'redshift']].describe()\n\n\n\n\n\n  \n    \n      \n      l\n      b\n      dm\n    \n  \n  \n    \n      count\n      811.000000\n      811.000000\n      811.000000\n    \n    \n      mean\n      140.128890\n      13.971689\n      603.167531\n    \n    \n      std\n      66.823504\n      33.066918\n      416.749504\n    \n    \n      min\n      0.740000\n      -71.550000\n      87.750000\n    \n    \n      25%\n      105.395000\n      -8.155000\n      347.760000\n    \n    \n      50%\n      129.710000\n      16.620000\n      469.880000\n    \n    \n      75%\n      171.525000\n      35.415000\n      734.000000\n    \n    \n      max\n      359.830000\n      89.530000\n      3037.700000\n    \n  \n\n\n\n\n\ndata.plot.scatter(x='redshift', y='dm')\n\n<AxesSubplot: xlabel='redshift', ylabel='dm'>\n\n\n\n\n\n\ndata.plot.scatter(x='l', y='b')\n\n<AxesSubplot: xlabel='l', ylabel='b'>\n\n\n\n\n\n\n# Set projection & properties\ncanvas = MWSkyMap(projection='aitoff', grayscale=False, figsize=(20, 12.5))\n\n# alpha value for the milkyway image\ncanvas.imalpha = 1.\n\n# set up plot title\ncanvas.title = r'$\\mathrm{FRB \\ } l \\mathrm{-} b \\mathrm{ \\ Distribution}$'+'\\n'\ncanvas.fontsize = 48\n\n\ncoords = SkyCoord(ra=data['ra'][0], dec=data['dec'][0], unit=(u.hourangle, u.deg))\ncoords\n\n<SkyCoord (ICRS): (ra, dec) in deg\n    (286.72083333, -40.62055556)>\n\n\n\ngalcoords = SkyCoord(l=data['l'][0], b=data['b'][0], unit='deg', frame='galactic')\ngalcoords\n\n<SkyCoord (Galactic): (l, b) in deg\n    (356.64, -20.02)>\n\n\n\ndef to_sky_coord(row) -> SkyCoord:\n    return SkyCoord(l=row['l'], b=row['b'], unit='deg', frame='galactic')\n\ndata['galactic'] = data.apply(lambda x: to_sky_coord(x), axis=1)\n\ndata\n\n\n\n\n\n  \n    \n      \n      frb\n      utc\n      mjd\n      telescope\n      ra\n      dec\n      l\n      b\n      frequency\n      dm\n      flux\n      width\n      fluence\n      snr\n      reference\n      redshift\n      galactic\n    \n  \n  \n    \n      0\n      FRB 20010125A\n      2001-01-25 0:29:16\n      51934.02032\n      Parkes\n      19:06:53\n      -40:37:14\n      356.64\n      -20.02\n      -\n      790.3\n      0.54\n      -\n      -\n      -\n      https://www.wis-tns.org/object/20010125a\n      0.7083\n      <SkyCoord (Galactic): (l, b) in deg\\n    (356....\n    \n    \n      1\n      FRB 20010305A\n      2001-03-05 12:29:16\n      51973.52032\n      Parkes\n      4:57:20\n      -52:36:25\n      260.07\n      -38.35\n      1374\n      350.0\n      0.42\n      9\n      3.78\n      10.2\n      https://arxiv.org/abs/2004.04601\n      0.341\n      <SkyCoord (Galactic): (l, b) in deg\\n    (260....\n    \n    \n      2\n      FRB 20010312A\n      2001-03-12 11:06:48\n      51980.46306\n      Parkes\n      5:26:55\n      -64:56:19\n      274.72\n      -33.30\n      -\n      1187.0\n      0.25\n      -\n      -\n      -\n      https://www.wis-tns.org/object/20010312a\n      1.0897\n      <SkyCoord (Galactic): (l, b) in deg\\n    (274....\n    \n    \n      3\n      FRB 20010621A\n      2001-06-21 13:02:11\n      52081.54318\n      Parkes\n      18:52:05\n      -8:29:35\n      25.43\n      -4.00\n      -\n      745.0\n      0.41\n      -\n      -\n      -\n      https://www.wis-tns.org/object/20010621a\n      0.4454\n      <SkyCoord (Galactic): (l, b) in deg\\n    (25.4...\n    \n    \n      4\n      FRB 20010724A\n      2001-07-24 19:50:02\n      52114.82641\n      Parkes\n      1:18:06\n      -75:12:18\n      300.65\n      -41.81\n      -\n      375.0\n      30\n      -\n      -\n      -\n      https://www.wis-tns.org/object/20010724a\n      0.369\n      <SkyCoord (Galactic): (l, b) in deg\\n    (300....\n    \n    \n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n    \n    \n      806\n      FRB 20220105A\n      2022-01-05 0:19:19\n      59584.01341\n      ASKAP\n      13:55:51.4\n      +22:29:19.7\n      18.84\n      74.68\n      1632.5\n      583.0\n      -\n      -\n      -\n      10\n      https://www.wis-tns.org/object/20220105a\n      0.5724\n      <SkyCoord (Galactic): (l, b) in deg\\n    (18.8...\n    \n    \n      807\n      FRB 20220414A\n      2022-04-14 17:26:40\n      59683.72685\n      Tianlai\n      13:04:21\n      +48:18:05\n      117.02\n      68.68\n      747.5\n      208.1\n      128.4\n      2.2\n      204\n      15.1\n      https://www.wis-tns.org/object/20220414a\n      0.2169\n      <SkyCoord (Galactic): (l, b) in deg\\n    (117....\n    \n    \n      808\n      FRB 20220501C\n      2022-05-01 2:11:09\n      59700.09108\n      ASKAP\n      23:29:50\n      -32:27:00\n      11.26\n      -71.55\n      863.5\n      449.5\n      -\n      -\n      30\n      16.1\n      https://www.wis-tns.org/object/20220501c\n      0.4558\n      <SkyCoord (Galactic): (l, b) in deg\\n    (11.2...\n    \n    \n      809\n      FRB 20220610A\n      2022-06-10 22:26:43\n      59740.93522\n      ASKAP\n      23:23:60\n      -33:31:00\n      8.87\n      -70.13\n      1271.5\n      1458.1\n      -\n      5.6\n      43\n      29.8\n      https://www.wis-tns.org/object/20220610a\n      1.3836\n      <SkyCoord (Galactic): (l, b) in deg\\n    (8.87...\n    \n    \n      810\n      FRB 20220725A\n      2022-07-25 21:54:53\n      59785.91311\n      ASKAP\n      22:26:60\n      +34:52:60\n      92.14\n      -19.21\n      919.5\n      290.4\n      -\n      -\n      -\n      12.7\n      https://www.wis-tns.org/object/20220725a\n      0.2591\n      <SkyCoord (Galactic): (l, b) in deg\\n    (92.1...\n    \n  \n\n811 rows × 17 columns\n\n\n\n\ncanvas.scatter(ra=data['ra'].to_numpy()*u.degree, dec=data['dec'].to_numpy()*u.degree, s=150, alpha=0.6, edgecolor='white', linewidth=0.85, cmap='plasma')\n\nTypeError: unsupported operand type(s) for *: 'numpy.ndarray' and 'Unit'"
  },
  {
    "objectID": "notebooks/02-UMAP-HDBSCAN.html",
    "href": "notebooks/02-UMAP-HDBSCAN.html",
    "title": "Reproducing Chen et. al. (2021)’s unsupervised machine learning",
    "section": "",
    "text": "Note\n\n\n\n📌 Goal: This notebook tries to reproduce the results from https://ui.adsabs.harvard.edu/abs/2022MNRAS.509.1227C/abstract. As stated in the paper, verbatim\n\nOur goal is to map several observational and model-dependent parameters of each FRB to a 2D embedding plane by training the UMAP algorithm on the features of the training samples in CHIME/FRB dataset and finally identify possibly misclassified non-repeating FRBs which in fact have latent features of repeating FRBs. We define these possibly misclassified non-repeating FRBs as FRB repeater candidates in our paper."
  },
  {
    "objectID": "notebooks/02-UMAP-HDBSCAN.html#getting-the-data",
    "href": "notebooks/02-UMAP-HDBSCAN.html#getting-the-data",
    "title": "Reproducing Chen et. al. (2021)’s unsupervised machine learning",
    "section": "0. Getting the Data",
    "text": "0. Getting the Data\n\n0.1 Source\nThe paper uses data from CHIME/FRB Catalog with parameters calculated in Hashimoto et. al. 2022.\n\ncatalog: pd.DataFrame = pd.read_csv('../data/raw/chimefrbcat1_Hashimoto_2022.csv')\ncatalog\n\n\n\n\n\n  \n    \n      \n      tns_name\n      previous_name\n      repeater_name\n      ra\n      ra_err\n      ra_notes\n      dec\n      dec_err\n      dec_notes\n      gl\n      ...\n      weight_fluence_error_m\n      weight\n      weight_error_p\n      weight_error_m\n      weighted_logrhoA\n      weighted_logrhoA_error_p\n      weighted_logrhoA_error_m\n      weighted_logrhoB\n      weighted_logrhoB_error_p\n      weighted_logrhoB_error_m\n    \n  \n  \n    \n      0\n      FRB20180725A\n      180725.J0613+67\n      -9999\n      93.42\n      0.04\n      -9999\n      67.10\n      0.20\n      -9999\n      147.29\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      1\n      FRB20180727A\n      180727.J1311+26\n      -9999\n      197.70\n      0.10\n      -9999\n      26.40\n      0.30\n      -9999\n      24.76\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      2\n      FRB20180729A\n      180729.J1316+55\n      -9999\n      199.40\n      0.10\n      -9999\n      55.58\n      0.08\n      -9999\n      115.26\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      3\n      FRB20180729B\n      180729.J0558+56\n      -9999\n      89.90\n      0.30\n      -9999\n      56.50\n      0.20\n      -9999\n      156.90\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      4\n      FRB20180730A\n      180730.J0353+87\n      -9999\n      57.39\n      0.03\n      -9999\n      87.20\n      0.20\n      -9999\n      125.11\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n    \n    \n      594\n      FRB20190701A\n      -9999\n      -9999\n      277.50\n      0.20\n      -9999\n      59.00\n      0.20\n      -9999\n      88.29\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      595\n      FRB20190701B\n      -9999\n      -9999\n      302.90\n      0.20\n      -9999\n      80.20\n      0.20\n      -9999\n      112.88\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      596\n      FRB20190701C\n      -9999\n      -9999\n      96.40\n      0.20\n      -9999\n      81.60\n      0.30\n      -9999\n      132.18\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      597\n      FRB20190701D\n      -9999\n      -9999\n      112.10\n      0.20\n      -9999\n      66.70\n      0.20\n      -9999\n      149.28\n      ...\n      0.000649\n      1.361506\n      0.574701\n      0.206776\n      0.813142\n      0.485293\n      0.109293\n      0.894742\n      0.25519\n      0.19035\n    \n    \n      598\n      FRB20190701E\n      -9999\n      -9999\n      138.60\n      0.20\n      -9999\n      61.71\n      0.04\n      -9999\n      153.27\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n  \n\n599 rows × 107 columns\n\n\n\n\n\n0.2 Dataset Validation\nWe first validate that the data is as described in the paper. According to the paper:\n\n\nThe initial dataset includes 501 non-repeating FRB sub-bursts from 474 sources and 93 repeating FRB sub-bursts from 18 sources.\n\n\nThe catalogue includes 535 FRBs at a frequency range between 400 and 800 MHz from 2018 July 25 to 2019 July 1. Since a repeating FRB source provides several FRBs and each FRB might include several sub-bursts, the actual number of applying subburst samples are 501 non-repeating + 93 repeating = 594 sub-bursts.\n\n\nWe can verify this using a simple dataframe method.\n\nstart: float = Time('2018-07-25').mjd\nend: float = Time('2019-07-01').mjd\n\ninterval: pd.Series = (start <= catalog['mjd_400']) & (catalog['mjd_400'] <= end)\ncatalog: pd.DataFrame = catalog[interval]\n\nrepeating: pd.DataFrame = catalog[(catalog['repeater_name'] != \"-9999\")]\nnon_repeating: pd.DataFrame = catalog[(catalog['repeater_name'] == \"-9999\")]\nprint(f\"Total repeaters\\t\\t: {len(repeating)}\",f\"Total non-repeaters\\t: {len(non_repeating)}\", sep=\"\\n\")\nprint(f\"Total sub-bursts\\t: {len(repeating) + len(non_repeating)}\")\n\nTotal repeaters     : 93\nTotal non-repeaters : 501\nTotal sub-bursts    : 594\n\n\n\n\n\n\n\n\nNote\n\n\n\nTODO Apply filter to get the number of sources. This filter only gets the number of sub bursts.\n\n\n\n\n\n\n\n\nQuestion\n\n\n\nWhat does the authors mean by “The catalogue includes 535 FRBs”? I could not think of a filter that fits the description."
  },
  {
    "objectID": "notebooks/02-UMAP-HDBSCAN.html#preprocessing",
    "href": "notebooks/02-UMAP-HDBSCAN.html#preprocessing",
    "title": "Reproducing Chen et. al. (2021)’s unsupervised machine learning",
    "section": "1. Preprocessing",
    "text": "1. Preprocessing\n\n1.1 Sample dan Selection\nThese are the criteria:\n\nObserved between 2018 July 25 to 2019 July 1. (Already filtered in Validation)\nWe exclude the FRB sub-bursts which have neither flux nor fluence measurements.\nThe input data for unsupervised learning includes a total of 10 observational and 3 model-dependent parameters. (Described in Parameters)\n\n\n\n1.2 Parameters\n\n\n1.2.1 Observational Parameters\nThe parameters selected by the paper is as follows: - Boxcar Width bc_width - Width of Sub-Burst width_fitb - Flux flux - Fluence fluence - Scattering Time scat_time - Spectral Index sp_idx - Spectral Running sp_run - Highest Frequency high_freq - Lowest Frequency low_freq - Peak Frequency peak_freq\n\n\n1.2.2 Model Dependent Parameters\n\nRedshift z\nRadio Energy logE_rest_400\nRest-Frame Intrinsic Duration logsubw_int_rest\n\n\nfrom typing import List\n\nparams : List[str] = [\n    # Observational\n    \"bc_width\",\n    \"width_fitb\",\n    \"flux\",\n    \"fluence\",\n    \"scat_time\",\n    \"sp_idx\",\n    \"sp_run\",\n    \"high_freq\",\n    \"low_freq\",\n    \"peak_freq\",\n    # Model dependent\n    \"z\",\n    \"logE_rest_400\",\n    \"logsubw_int_rest\"\n]\n\nidentifiers: List[str] = [\n    \"tns_name\",\n    \"repeater_name\"\n]\n\ndropna_subset = ['flux', 'fluence', 'logE_rest_400']\n\nnon_repeating = non_repeating[[*params, *identifiers]]\nrepeating = repeating[[*params, *identifiers]]"
  },
  {
    "objectID": "notebooks/02-UMAP-HDBSCAN.html#dimension-reduction",
    "href": "notebooks/02-UMAP-HDBSCAN.html#dimension-reduction",
    "title": "Reproducing Chen et. al. (2021)’s unsupervised machine learning",
    "section": "2. Dimension Reduction",
    "text": "2. Dimension Reduction\n\n2.1 Split test and training data\n\ntest, train = train_test_split(repeating, test_size=0.9)\n\n\n# to be trained\nselected = pd.concat([train, non_repeating]).dropna(subset=dropna_subset)\n\n\n\n2.2 UMAP\nParameters:\n\nn_neighbors = 8\n\nit controls how UMAP balances between the local structure and the global structure of the data manifolds\n\nn_components = 2\n\nthe resulting dimensionality of the reduced dimension\n\nmin_dist = 0.1\n\nto prevent the resulting low dimensional projections clumping together\n\n\n\nmodel: umap.UMAP = umap.UMAP(n_neighbors=8, n_components=2, min_dist=0.1)\nmap = model.fit(selected[params])\ntest_map = map.transform(test[params])\n\n\nselected['x'] = map.embedding_[:, 0]\nselected['y'] = map.embedding_[:, 1]\nselected['color'] = ['non-repeater' if name == '-9999' else 'repeater (train)' for name in selected['repeater_name']]\n\nselected = selected.sort_values(by=['color'])\n\ntest['x'] = test_map[:,0]\ntest['y'] = test_map[:,1]\ntest['color'] = 'repeater (test)'\n\nto_plot = pd.concat([selected, test])\n\nsns.set_style('dark')\nsns.set_context('paper')\nsns.relplot(data=to_plot, kind='scatter', x='x', y='y', hue='color', hue_order=['non-repeater','repeater (train)','repeater (test)'])\n\n<seaborn.axisgrid.FacetGrid at 0x1dff54e50d0>"
  },
  {
    "objectID": "notebooks/02-UMAP-HDBSCAN.html#hdbscan",
    "href": "notebooks/02-UMAP-HDBSCAN.html#hdbscan",
    "title": "Reproducing Chen et. al. (2021)’s unsupervised machine learning",
    "section": "3. HDBSCAN",
    "text": "3. HDBSCAN\nWe now perform HDBSCAN to cluster data based on the dimensionally reduced data from UMAP.\n\n3.1 Calculation\n\nimport hdbscan\n\n\nconst = 0.485\nclus_size = round(const * to_plot.shape[1])\n\nmodel_ = hdbscan.HDBSCAN(clus_size)\nto_plot['hdbscan'] = model_.fit_predict(to_plot[['x', 'y']])\nto_plot = to_plot.sort_values(by='hdbscan', ascending=True)\nto_plot['hdbscan'] = to_plot['hdbscan'].astype(str)\nsns.relplot(data=to_plot, kind='scatter', x='x', y='y', hue='hdbscan')\n\n<seaborn.axisgrid.FacetGrid at 0x1df8adc3340>\n\n\n\n\n\n\n\n3.2 Comparison\nIn this section we present the data from Chen et al (2021).\n\nchen2021 = pd.read_csv('../data/raw/CHIME_FRB_ML_classification.csv')\nchen2021['source'] = 'chen et al 2021'\nsns.relplot(data=chen2021, kind='scatter', x='embedding_x', y='embedding_y', hue='group')\n\n<seaborn.axisgrid.FacetGrid at 0x1df8b491fa0>\n\n\n\n\n\nAs you can see, Chen et al (2021) contains 9 clusters while the one we did have 12 clusters. The number of clusters itself is irrelevant but the size of clusters is. What we want to know is whether or not we can replicate the classification of repeater clusters from non-repeater clusters.\nA cluster is considered repeater cluster is the total number of more than 10% repeating FRB exists in the cluster. Other FRBs inside the repeater cluster is determined to be ‘potentially’ repeating. Then, we compare the division between this notebook and Chen et al (2021).\n\n# Determining repeater clusters (>10% is repeater FRB)\nthis = to_plot[['tns_name','x','y', 'hdbscan', 'color']].rename(columns={'x': 'embedding_x', 'y':'embedding_y', 'hdbscan': 'label', 'color': 'repeater'})\nthis['source'] = 'calculated'\nthis['repeater'] = [False if name == 'non-repeater' else True for name in this['repeater']]\na = this.groupby('label').aggregate('mean', numeric_only=True)\na['group'] = ['repeater_cluster' if row > 0.1 else 'other_cluster' for row in a['repeater']]\na.reset_index()\nthis = this.merge(a[['group']], on='label')\n\n# Rename groups to only separate repeater clusters from other clusters\nchen2021['group'] = chen2021['group'].apply(lambda x: x[:-2])\n\ndata: pd.DataFrame = pd.concat([this, chen2021])\nsns.relplot(data=data, kind='scatter', x='embedding_x', y='embedding_y', hue='group', col='source')\n\n<seaborn.axisgrid.FacetGrid at 0x1df8b23fa60>\n\n\n\n\n\nThe division fairly replicates the one from Chen et al. (2021). However, some of the top left corner of the embedding is not classified as repeater in this notebook while it is in Chen et al. (2021). We can continue analysis with more graphs from Chen et al. (2021)."
  },
  {
    "objectID": "notebooks/03-filter-repeaters.html",
    "href": "notebooks/03-filter-repeaters.html",
    "title": "Masters Project",
    "section": "",
    "text": "df = pd.read_csv('../data/raw/chimefrbcat1_Hashimoto_2022.csv')\ndf.columns\n\nIndex(['tns_name', 'previous_name', 'repeater_name', 'ra', 'ra_err',\n       'ra_notes', 'dec', 'dec_err', 'dec_notes', 'gl',\n       ...\n       'weight_fluence_error_m', 'weight', 'weight_error_p', 'weight_error_m',\n       'weighted_logrhoA', 'weighted_logrhoA_error_p',\n       'weighted_logrhoA_error_m', 'weighted_logrhoB',\n       'weighted_logrhoB_error_p', 'weighted_logrhoB_error_m'],\n      dtype='object', length=107)\n\n\n\ndata = df.groupby('repeater_name').groups\ndata.pop('-9999') # Removes non repeaters\ndata\n\n{'FRB20121102A': [103, 104, 105], 'FRB20180814A': [12, 25, 33, 34, 35, 38, 75, 76, 77, 78, 79, 100, 109, 484, 547, 548, 577, 578, 579], 'FRB20180908B': [22, 566], 'FRB20180916B': [30, 65, 66, 87, 88, 108, 162, 163, 164, 165, 171, 172, 181, 184, 185, 266, 489, 490, 497, 498, 499, 500, 501, 502, 503, 522, 526, 527, 528, 533, 534, 535, 536], 'FRB20181017A': [61, 319], 'FRB20181030A': [81, 82], 'FRB20181119A': [106, 211, 372], 'FRB20181128A': [120, 121, 157, 508], 'FRB20190116B': [239, 240], 'FRB20190117A': [245, 591], 'FRB20190208A': [295, 296, 297, 298, 419], 'FRB20190209A': [299, 302], 'FRB20190212A': [310, 313, 314], 'FRB20190213A': [311, 480], 'FRB20190222A': [335, 354, 355], 'FRB20190303A': [360, 449, 450], 'FRB20190417A': [441], 'FRB20190604A': [524, 537]}\n\n\n\nrepeaters = pd.DataFrame({'name': data.keys(), 'sample_id':data.values()})\nrepeaters = repeaters.explode(['sample_id'])\nrepeaters\n\n\n\n\n\n  \n    \n      \n      name\n      sample_id\n    \n  \n  \n    \n      0\n      FRB20121102A\n      103\n    \n    \n      0\n      FRB20121102A\n      104\n    \n    \n      0\n      FRB20121102A\n      105\n    \n    \n      1\n      FRB20180814A\n      12\n    \n    \n      1\n      FRB20180814A\n      25\n    \n    \n      ...\n      ...\n      ...\n    \n    \n      15\n      FRB20190303A\n      449\n    \n    \n      15\n      FRB20190303A\n      450\n    \n    \n      16\n      FRB20190417A\n      441\n    \n    \n      17\n      FRB20190604A\n      524\n    \n    \n      17\n      FRB20190604A\n      537\n    \n  \n\n93 rows × 2 columns\n\n\n\n\ndf = df.reset_index()\ndf\n\n\n\n\n\n  \n    \n      \n      level_0\n      index\n      tns_name\n      previous_name\n      repeater_name\n      ra\n      ra_err\n      ra_notes\n      dec\n      dec_err\n      ...\n      weight_fluence_error_m\n      weight\n      weight_error_p\n      weight_error_m\n      weighted_logrhoA\n      weighted_logrhoA_error_p\n      weighted_logrhoA_error_m\n      weighted_logrhoB\n      weighted_logrhoB_error_p\n      weighted_logrhoB_error_m\n    \n  \n  \n    \n      0\n      0\n      0\n      FRB20180725A\n      180725.J0613+67\n      -9999\n      93.42\n      0.04\n      -9999\n      67.10\n      0.20\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      1\n      1\n      1\n      FRB20180727A\n      180727.J1311+26\n      -9999\n      197.70\n      0.10\n      -9999\n      26.40\n      0.30\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      2\n      2\n      2\n      FRB20180729A\n      180729.J1316+55\n      -9999\n      199.40\n      0.10\n      -9999\n      55.58\n      0.08\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      3\n      3\n      3\n      FRB20180729B\n      180729.J0558+56\n      -9999\n      89.90\n      0.30\n      -9999\n      56.50\n      0.20\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      4\n      4\n      4\n      FRB20180730A\n      180730.J0353+87\n      -9999\n      57.39\n      0.03\n      -9999\n      87.20\n      0.20\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n    \n    \n      594\n      594\n      594\n      FRB20190701A\n      -9999\n      -9999\n      277.50\n      0.20\n      -9999\n      59.00\n      0.20\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      595\n      595\n      595\n      FRB20190701B\n      -9999\n      -9999\n      302.90\n      0.20\n      -9999\n      80.20\n      0.20\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      596\n      596\n      596\n      FRB20190701C\n      -9999\n      -9999\n      96.40\n      0.20\n      -9999\n      81.60\n      0.30\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n    \n      597\n      597\n      597\n      FRB20190701D\n      -9999\n      -9999\n      112.10\n      0.20\n      -9999\n      66.70\n      0.20\n      ...\n      0.000649\n      1.361506\n      0.574701\n      0.206776\n      0.813142\n      0.485293\n      0.109293\n      0.894742\n      0.25519\n      0.19035\n    \n    \n      598\n      598\n      598\n      FRB20190701E\n      -9999\n      -9999\n      138.60\n      0.20\n      -9999\n      61.71\n      0.04\n      ...\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n      NaN\n    \n  \n\n599 rows × 109 columns\n\n\n\n\nrp = repeaters.merge(df[['index','tns_name']], right_on='index', left_on='sample_id')#.rename(columns={'tns_name': 'samples'})[['name', 'samples']]\nrp.groupby('name').tns_name.aggregate(list)\n\nname\nFRB20121102A           [FRB20181119D, FRB20181119D, FRB20181119D]\nFRB20180814A    [FRB20180814A, FRB20180911C, FRB20180917A, FRB...\nFRB20180908B                         [FRB20180908B, FRB20190621A]\nFRB20180916B    [FRB20180916B, FRB20181019A, FRB20181019A, FRB...\nFRB20181017A                         [FRB20181017A, FRB20190216A]\nFRB20181030A                         [FRB20181030A, FRB20181030B]\nFRB20181119A           [FRB20181119A, FRB20190103A, FRB20190313A]\nFRB20181128A    [FRB20181128A, FRB20181128A, FRB20181219A, FRB...\nFRB20190116B                         [FRB20190116A, FRB20190116B]\nFRB20190117A                         [FRB20190117A, FRB20190630A]\nFRB20190208A    [FRB20190208A, FRB20190208A, FRB20190208A, FRB...\nFRB20190209A                         [FRB20190209A, FRB20190210A]\nFRB20190212A           [FRB20190212A, FRB20190213B, FRB20190213B]\nFRB20190213A                         [FRB20190213A, FRB20190515C]\nFRB20190222A           [FRB20190222A, FRB20190301A, FRB20190301A]\nFRB20190303A           [FRB20190303A, FRB20190421A, FRB20190421A]\nFRB20190417A                                       [FRB20190417A]\nFRB20190604A                         [FRB20190604A, FRB20190606A]\nName: tns_name, dtype: object\n\n\n\nrptes = pd.DataFrame({'name': data.keys(), 'sample_id':data.values()})\nrptes['samples'] = rp.groupby('name').tns_name.aggregate(list)\nrptes['samples']\n\n0     NaN\n1     NaN\n2     NaN\n3     NaN\n4     NaN\n5     NaN\n6     NaN\n7     NaN\n8     NaN\n9     NaN\n10    NaN\n11    NaN\n12    NaN\n13    NaN\n14    NaN\n15    NaN\n16    NaN\n17    NaN\nName: samples, dtype: object"
  },
  {
    "objectID": "README.html",
    "href": "README.html",
    "title": "About",
    "section": "",
    "text": "This repository is meant to document my Masters in Physics’ work under Dr Noriah Hashim and Dr Zambri Zainal in University Malaya.\n\n\nThese problem statements are taken from the proposal and will likely change and become more specific in the future:\n\nWhat relationship of its properties can be extracted from the population of known FRBs now that we have more than 800 observed transients?\nWhich FRBs exhibit interesting properties compared to the rest of the population?\nWhat might be the reason behind the interesting properties of the FRBs in question (2)?\n\n\n\n\nThe cfod package used to access the CHIME/FRB catalog requires Linux or WSL."
  }
]